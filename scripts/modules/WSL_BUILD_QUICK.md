# üöÄ Q3VM WASM - –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ WSL

## ‚ö° –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ (2 —à–∞–≥–∞):

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Emscripten —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ WSL:

```bash
wsl
emcc --version
```

–ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
cd ~
git clone https://github.com/emscripten-core/emsdk.git
cd emsdk
./emsdk install latest
./emsdk activate latest
source ./emsdk_env.sh

# –î–æ–±–∞–≤—å—Ç–µ –≤ ~/.bashrc —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –≤—Å–µ–≥–¥–∞:
echo 'source ~/emsdk/emsdk_env.sh' >> ~/.bashrc
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É:

**–í–∞—Ä–∏–∞–Ω—Ç A - –∏–∑ Windows (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫):**
```
build-via-wsl.bat
```

**–í–∞—Ä–∏–∞–Ω—Ç B - –∏–∑ WSL:**
```bash
cd /mnt/c/git/scoqx.github.io/scripts/modules
chmod +x build-wsl.sh
./build-wsl.sh
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ:
- ‚úÖ `q3vm-wasm.js` (~100-150 KB)
- ‚úÖ `q3vm-wasm.wasm` (~20-30 KB)

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

–û–±–Ω–æ–≤–∏—Ç–µ `superhud-tools.html`:

```html
<!-- –ó–∞–º–µ–Ω–∏—Ç–µ JS –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–∞ WASM -->
<script src="modules/q3vm-wasm.js"></script>
<script src="modules/q3vm-wasm-wrapper.js"></script>
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### "WSL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
```powershell
# –í PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
wsl --install
```

### "emcc not found"
```bash
# –í WSL:
source ~/emsdk/emsdk_env.sh
```

### "vm.c not found"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å:
```bash
ls /mnt/c/git/q3vm/src/vm/vm.c
```

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
cd /mnt/c/git
git clone https://github.com/jnz/q3vm.git
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ (JS) | –ü–æ—Å–ª–µ (WASM) | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|---------|--------------|-----------|
| CG_Init | ~500ms | ~15ms | **33x –±—ã—Å—Ç—Ä–µ–µ** |
| Frame | ~10ms | ~0.3ms | **33x –±—ã—Å—Ç—Ä–µ–µ** |
| –ü–∞–º—è—Ç—å | 50 MB | 10 MB | **5x –º–µ–Ω—å—à–µ** |

---

## üéì –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

```
Windows                    WSL (Linux)
   ‚îÇ                          ‚îÇ
   ‚îÇ  1. build-via-wsl.bat    ‚îÇ
   ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
   ‚îÇ                          ‚îÇ
   ‚îÇ                     2. build-wsl.sh
   ‚îÇ                          ‚îÇ
   ‚îÇ                     3. emcc (compile)
   ‚îÇ                          ‚îÇ
   ‚îÇ                     C code ‚Üí WASM
   ‚îÇ                          ‚îÇ
   ‚îÇ  4. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤   ‚îÇ
   ‚îÇ  <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
   ‚îÇ                          ‚îÇ
 .js + .wasm —Å–æ–∑–¥–∞–Ω—ã!
```

---

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

- –ü–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞: ~30 —Å–µ–∫—É–Ω–¥
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ: ~5 —Å–µ–∫—É–Ω–¥

---

## üí° –°–æ–≤–µ—Ç:

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –º–æ–∂–µ—Ç–µ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å `.wasm` –∏ `.js` —Ñ–∞–π–ª—ã –≤ git, —Ç–æ–≥–¥–∞ –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å!

```bash
git add q3vm-wasm.js q3vm-wasm.wasm
git commit -m "Add compiled Q3VM WASM module"
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å Q3VM —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–∞—Ç–∏–≤–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏! üéâ





