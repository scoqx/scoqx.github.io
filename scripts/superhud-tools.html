<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperHUD Tools - OSP2-BE</title>
    <link rel="stylesheet" href="superhud-tools.css">
</head>
<body>
    
    <div class="container">
        <div class="tabs">
            <button class="tab active" onclick="switchTab('main-tester')">MAIN/–ì–õ–ê–í–ù–ê–Ø</button>
            <button class="tab" onclick="switchTab('emulator')">2D –≠–º—É–ª—è—Ç–æ—Ä</button>
            <button class="tab" onclick="switchTab('server-emulator')">–°–µ—Ä–≤–µ—Ä –≠–º—É–ª—è—Ç–æ—Ä</button>
            <button class="tab" onclick="switchTab('client-emulator')">–ö–ª–∏–µ–Ω—Ç</button>
            <button class="tab" onclick="switchTab('shaders')">–°–∏—Å—Ç–µ–º–∞ –®–µ–π–¥–µ—Ä–æ–≤</button>
            <button class="tab" onclick="switchTab('hud-editor')">HUD –†–µ–¥–∞–∫—Ç–æ—Ä</button>
        </div>
        
        <!-- –ì–ª–∞–≤–Ω—ã–π –¢–µ—Å—Ç–µ—Ä -->
        <div id="main-tester" class="tab-content active">
            <div class="main-tester-container">
                
                <div class="main-tester-buttons">
                    <div class="tester-button-container">
                        <button id="c89ToJsButton" class="tester-button" onclick="runC89ToJsTest()">
                            <div class="button-icon">C89</div>
                            <div class="button-text">
                                <div class="button-title">C89 ‚Üí JS</div>
                                <div class="button-description">–ü–µ—Ä–µ–≤–æ–¥ –∏–∑ assets/code/</div>
                            </div>
                            <div class="button-status" id="c89ToJsStatus">‚è≥</div>
                        </button>
                    </div>
                    
                    <div class="tester-button-container">
                        <button id="pk3LoaderButton" class="tester-button" onclick="runPk3LoaderTest()">
                            <div class="button-icon">PK3</div>
                            <div class="button-text">
                                <div class="button-title">PK3 LOADER</div>
                                <div class="button-description">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ assets/</div>
                            </div>
                            <div class="button-status" id="pk3LoaderStatus">‚è≥</div>
                        </button>
                    </div>
                    
                    <div class="tester-button-container">
                        <button id="shaderSystemButton" class="tester-button" onclick="runShaderSystemTest()">
                            <div class="button-icon">üé®</div>
                            <div class="button-text">
                                <div class="button-title">SHADER SYSTEM</div>
                                <div class="button-description">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —à–µ–π–¥–µ—Ä–æ–≤</div>
                            </div>
                            <div class="button-status" id="shaderSystemStatus">‚è≥</div>
                        </button>
                    </div>
                </div>
                
                <div class="main-tester-log" id="mainTesterLog">
                    <div class="log-header">
                        –õ–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
                        <button onclick="copyLogToClipboard()" style="float: right; padding: 5px 15px; background: #555; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px; transition: background 0.2s;">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å</button>
                    </div>
                    <div class="log-content" id="logContent">
                        <div class="log-entry">–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 2D –≠–º—É–ª—è—Ç–æ—Ä -->
        <div id="emulator" class="tab-content">
            <div class="grid">
                <div class="panel">
                    <h3>Canvas (640x480)</h3>
                    <div class="canvas-container">
                        <canvas id="emulatorCanvas" width="640" height="480"></canvas>
                    </div>
                </div>
                
                <div class="panel">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
                    <div class="controls">
                        <button onclick="clearEmulator()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        <button onclick="demoBasic()">–ë–∞–∑–æ–≤—ã–π HUD</button>
                        <button onclick="demoColors()">–¶–≤–µ—Ç–∞</button>
                        <button onclick="demoPics()">–ö–∞—Ä—Ç–∏–Ω–∫–∏</button>
                        <button onclick="demoComplex()">–°–ª–æ–∂–Ω—ã–π HUD</button>
                    </div>
                    
                    <div class="controls">
                        <button onclick="testSetColor()">trap_SetColor</button>
                        <button onclick="testFillRect()">trap_FillRect</button>
                        <button onclick="testDrawPic()">trap_DrawPic</button>
                    </div>
                    
                    <div class="status" id="emulatorStatus">
                        –≠–º—É–ª—è—Ç–æ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ö–ª–∏–µ–Ω—Ç –≠–º—É–ª—è—Ç–æ—Ä -->
        <div id="client-emulator" class="tab-content">
            <div class="grid">
                <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
                <div class="left-column">
                    <div class="panel">
                        <h3>–ö–ª–∏–µ–Ω—Ç</h3>
                        
                        <div class="control-block">
                            <div class="controls">
                                <button id="initClientButton" onclick="initAndStartQ3VMClient()" class="btn-primary" style="width: 100%; font-size: 16px; padding: 15px; background: #4CAF50;">
                                    üéÆ –ó–∞–ø—É—Å—Ç–∏—Ç—å Q3VM –∫–ª–∏–µ–Ω—Ç
                                </button>
                            </div>
                        </div>
                        
                        <div class="control-block">
                            <div class="controls">
                                <button onclick="stopQ3VMClient()" class="btn-danger">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                                <button onclick="downloadQ3VMAnalysis()" class="btn-secondary">üì• –°–∫–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑</button>
                                <button onclick="dumpQ3VMInfo()" class="btn-secondary">üîç –î–∞–º–ø –≤ –∫–æ–Ω—Å–æ–ª—å</button>
                            </div>
                        </div>
                        
                        <div class="status" id="clientStatus">
                            –ö–ª–∏–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É
                        </div>
                        
                        <div class="control-block" id="clientInfo" style="background: #1a1a1a; padding: 10px; border-radius: 5px; margin-top: 15px;">
                            <div style="color: #888;">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞</div>
                        </div>
                    </div>
                    
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º -->
                    <div class="panel" style="margin-top: 15px;">
                        <h3>üñ•Ô∏è –°–µ—Ä–≤–µ—Ä (VirtualPlayer)</h3>
                        
                        <div class="control-block">
                            <div class="controls">
                                <button id="serverStartBtn" onclick="startClientServer()" class="btn-primary" style="width: 100%;">
                                    ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
                                </button>
                            </div>
                        </div>
                        
                        <div class="control-block">
                            <div class="controls">
                                <button onclick="stopClientServer()" class="btn-danger">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                                <button onclick="addServerBot()" class="btn-secondary">ü§ñ –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞</button>
                                <button onclick="dumpServerInfo()" class="btn-secondary">üîç –ò–Ω—Ñ–æ</button>
                            </div>
                        </div>
                        
                        <div class="status" id="serverStatus" style="margin-top: 10px;">
                            –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
                        </div>
                        
                        <div class="control-block" id="serverInfo" style="background: #1a1a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <div style="color: #888;">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞</div>
                        </div>
                        
                        <div class="control-block" id="playerInfo" style="background: #1a1a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <div style="color: #888; font-size: 11px;">
                                <strong>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong><br>
                                –°–µ—Ä–≤–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ –∏–≥—Ä–æ–∫–∞ (–∑–¥–æ—Ä–æ–≤—å–µ, –±—Ä–æ–Ω—è, –æ—Ä—É–∂–∏–µ).<br>
                                –ö–ª–∏–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ Debug Overlay.<br>
                                <strong>–ö–ª–∞–≤–∏—à–∏:</strong> D=toggle | 1-9=weapon | H/J=health | K/L=armor
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
                <div class="right-column">
                    <div class="panel">
                        <h3>Canvas –∫–ª–∏–µ–Ω—Ç–∞ (640x480)</h3>
                        <div class="canvas-container">
                            <canvas id="clientCanvas" width="640" height="480" style="border: 2px solid #fff; background: #000;"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –°–µ—Ä–≤–µ—Ä –≠–º—É–ª—è—Ç–æ—Ä -->
        <div id="server-emulator" class="tab-content">
            <div class="grid">
                <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
                <div class="left-column">
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º -->
                    <div class="panel">
                        <h3>–°–µ—Ä–≤–µ—Ä</h3>
                    <div class="control-block">
                        <div class="controls">
                            <button onclick="startServerEmulator(1000)" class="btn-primary">‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ (1—Å)</button>
                            <button onclick="startServerEmulator(500)" class="btn-primary">‚ö° –ó–∞–ø—É—Å–∫ (0.5—Å)</button>
                            <button onclick="stopServerEmulator()" class="btn-danger">‚èπÔ∏è –°—Ç–æ–ø</button>
                        </div>
                    </div>
                    
                    
                    <div class="control-block">
                        <div class="game-mode-selector">
                            <div class="mode-group">
                                <button class="mode-button" onclick="selectGameMode('ffa')" id="ffaButton">
                                    FFA
                                    <div class="mode-submenu" id="ffaSubmenu">
                                        <div onclick="setGameType(0); hideSubmenus(); updateServerStats();">Free For All</div>
                                        <div onclick="setGameType(1); hideSubmenus(); updateServerStats();">Tournament</div>
                                        <div onclick="setGameType(2); hideSubmenus(); updateServerStats();">Single Player</div>
                                    </div>
                                </button>
                            </div>
                            
                            <div class="mode-group">
                                <button class="mode-button" onclick="selectGameMode('team')" id="teamButton">
                                    TEAM
                                    <div class="mode-submenu" id="teamSubmenu">
                                        <div onclick="setGameType(3); hideSubmenus(); updateServerStats();">Team Deathmatch</div>
                                        <div onclick="setGameType(4); hideSubmenus(); updateServerStats();">Capture The Flag</div>
                                        <div onclick="setGameType(5); hideSubmenus(); updateServerStats();">One Flag CTF</div>
                                        <div onclick="setGameType(6); hideSubmenus(); updateServerStats();">Obelisk</div>
                                        <div onclick="setGameType(7); hideSubmenus(); updateServerStats();">Harvester</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-block">
                        <div class="limits-grid">
                            <div class="limit-group">
                                <label>Frag:</label>
                                <div class="controls">
                                    <button onclick="setFragLimit(10)" class="btn-small">10</button>
                                    <button onclick="setFragLimit(20)" class="btn-small">20</button>
                                    <button onclick="setFragLimit(50)" class="btn-small">50</button>
                                </div>
                            </div>
                            <div class="limit-group">
                                <label>Capture:</label>
                                <div class="controls">
                                    <button onclick="setCaptureLimit(5)" class="btn-small">5</button>
                                    <button onclick="setCaptureLimit(8)" class="btn-small">8</button>
                                </div>
                            </div>
                            <div class="limit-group">
                                <label>Time:</label>
                                <div class="controls">
                                    <button onclick="setTimeLimit(5)" class="btn-small">5m</button>
                                    <button onclick="setTimeLimit(10)" class="btn-small">10m</button>
                                    <button onclick="setTimeLimit(20)" class="btn-small">20m</button>
                                    <button onclick="setTimeLimit(0)" class="btn-small">‚àû</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="status" id="serverStatus">
                        –°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É
                    </div>
                    
                    <div class="control-block">
                        <div class="controls">
                            <button onclick="simulateFlagCapture(1)" class="btn-red">üî¥ Red –∑–∞—Ö–≤–∞—Ç–∏–ª</button>
                            <button onclick="simulateFlagCapture(2)" class="btn-blue">üîµ Blue –∑–∞—Ö–≤–∞—Ç–∏–ª</button>
                            <button onclick="simulateFlagReturn(1)" class="btn-red">üî¥ Red —Å–±—Ä–æ—Å–∏–ª</button>
                            <button onclick="simulateFlagReturn(2)" class="btn-blue">üîµ Blue —Å–±—Ä–æ—Å–∏–ª</button>
                        </div>
                    </div>
                    
                    <div class="control-block">
                        <div class="controls">
                            <button onclick="simulateFrag(0, 1)" class="btn-danger">‚öîÔ∏è 0 —É–±–∏–ª 1</button>
                        </div>
                    </div>
                    
                    </div>
                    
                    <!-- –ò–≥—Ä–æ–∫–∏ -->
                    <div class="panel">
                        <h3>–ò–≥—Ä–æ–∫–∏</h3>
                        
                        <div class="control-block">
                            <div class="controls">
                                <button onclick="addVirtualPlayer()" class="btn-success">‚ûï –ë–æ—Ç</button>
                                <button onclick="addVirtualPlayer('TestPlayer')" class="btn-success">üë§ TestPlayer</button>
                                <button onclick="removeVirtualPlayer(0)" class="btn-warning">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å 0</button>
                            </div>
                        </div>
                        
                        <div id="playersList" style="background: #1a1a1a; padding: 10px; border-radius: 5px; margin-bottom: 15px; max-height: 400px; overflow-y: auto;">
                            <div style="color: #888;">–ù–µ—Ç –∏–≥—Ä–æ–∫–æ–≤</div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏–≥—Ä–æ–∫–∞ -->
                <div id="playerContextMenu" class="context-menu" style="display: none;">
                    <div class="context-header">
                        <strong id="contextPlayerName">–ò–≥—Ä–æ–∫</strong>
                        <button onclick="hidePlayerContextMenu()" class="btn-close">√ó</button>
                    </div>
                    
                    <div class="context-section">
                        <div class="context-title">üíÄ –î–µ–π—Å—Ç–≤–∏—è</div>
                        <button onclick="killPlayer()" class="btn-danger">üíÄ –£–±–∏—Ç—å</button>
                        <button onclick="kickPlayer()" class="btn-warning">üë¢ –ö–∏–∫–Ω—É—Ç—å</button>
                        <button onclick="showKillTargets()" class="btn-danger">‚öîÔ∏è –£–±–∏—Ç—å –∫–æ–≥–æ-—Ç–æ</button>
                    </div>
                    
                    <div class="context-section">
                        <div class="context-title">‚ù§Ô∏è HP</div>
                        <div class="context-controls">
                            <button onclick="changePlayerHealth(10)" class="btn-plus">+10</button>
                            <button onclick="changePlayerHealth(-10)" class="btn-minus">-10</button>
                            <button onclick="changePlayerHealth(50)" class="btn-plus">+50</button>
                            <button onclick="changePlayerHealth(-50)" class="btn-minus">-50</button>
                            <button onclick="changePlayerHealth(100)" class="btn-plus">+100</button>
                            <button onclick="changePlayerHealth(-100)" class="btn-minus">-100</button>
                        </div>
                    </div>
                    
                    <div class="context-section">
                        <div class="context-title">üõ°Ô∏è Armor</div>
                        <div class="context-controls">
                            <button onclick="changePlayerArmor(10)" class="btn-plus">+10</button>
                            <button onclick="changePlayerArmor(-10)" class="btn-minus">-10</button>
                            <button onclick="changePlayerArmor(50)" class="btn-plus">+50</button>
                            <button onclick="changePlayerArmor(-50)" class="btn-minus">-50</button>
                            <button onclick="changePlayerArmor(100)" class="btn-plus">+100</button>
                            <button onclick="changePlayerArmor(-100)" class="btn-minus">-100</button>
                        </div>
                    </div>
                </div>
                
                <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
                <div class="right-column">
                    <!-- –ö–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ -->
                    <div class="panel console-panel">
                        <h3>–ö–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞</h3>
                        <div id="serverStats">
                            <div style="color: #ccc;">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞</div>
                        </div>
                        
                        <div class="log-content" id="snapshotLog" style="height: 400px; overflow-y: auto; background: #1a1a1a; padding: 10px; border-radius: 5px; margin-top: 10px;">
                            <div style="color: #888;">–õ–æ–≥ —Å–Ω–∞–ø–æ–≤ –ø—É—Å—Ç</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –°–∏—Å—Ç–µ–º–∞ –®–µ–π–¥–µ—Ä–æ–≤ -->
        <div id="shaders" class="tab-content">
            <!-- –ö–æ–Ω—Å–æ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–µ—Ä—Ö—É -->
            <div style="background: #000; border: 2px solid #fff; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
                <div class="controls" style="margin-bottom: 10px;">
                    <button id="initShaderButton" onclick="runShaderSystemTest()" style="background: #4CAF50; color: white; font-weight: bold;">
                        üé® –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                    </button>
                    <button onclick="clearShaderCanvas(false)">–û—á–∏—Å—Ç–∏—Ç—å canvas</button>
                    <button onclick="testShaderRender()">–¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞</button>
                    
                    <span style="margin-left: 20px; color: #888;">–§–æ–Ω:</span>
                    <button onclick="setShaderCanvasBackground('black')" style="background: #000; color: #fff; border: 2px solid #fff;">–ß–µ—Ä–Ω—ã–π</button>
                    <button onclick="setShaderCanvasBackground('gray')" style="background: #808080; color: #fff;">–°–µ—Ä—ã–π</button>
                    <button onclick="setShaderCanvasBackground('white')" style="background: #fff; color: #000;">–ë–µ–ª—ã–π</button>
                    <button onclick="setShaderCanvasBackground('checkerboard')" style="background: linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%), linear-gradient(45deg, #ccc 25%, #fff 25%, #fff 75%, #ccc 75%); background-size: 20px 20px; background-position: 0 0, 10px 10px; color: #000;">–®–∞—Ö–º–∞—Ç—ã</button>
                </div>
                
                <!-- Loading Bar -->
                <div id="loadingBarContainer" style="display: none; margin-bottom: 10px;">
                    <div style="position: relative; height: 50px; background: #1a1a1a; border: 2px solid #fff; border-radius: 5px; overflow: hidden;">
                        <!-- –ë–µ–ª–∞—è –∑–∞–ª–∏–≤–∫–∞ -->
                        <div id="initLoadingBar" style="position: absolute; top: 0; left: 0; width: 0%; height: 100%; background: white; transition: width 0.3s ease; z-index: 1;"></div>
                        
                        <!-- –¢–µ–∫—Å—Ç —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –∏–Ω–≤–µ—Ä—Å–∏–∏ -->
                        <div id="initLoadingText" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-weight: bold; font-size: 18px; width: 100%; text-align: center; background: linear-gradient(to right, black 0%, black 50%, white 50%, white 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; z-index: 2; letter-spacing: 1px;">
                            –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
                        </div>
                        
                        <!-- –ü—Ä–æ—Ü–µ–Ω—Ç –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É -->
                        <div id="initLoadingPercent" style="position: absolute; bottom: 5px; right: 10px; font-size: 12px; font-weight: bold; background: linear-gradient(to right, black 0%, black 50%, white 50%, white 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; z-index: 2;">
                            0%
                        </div>
                    </div>
                </div>
                
                <div class="status" id="shaderStatus" style="margin: 0;">
                    –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã —à–µ–π–¥–µ—Ä–æ–≤
                </div>
            </div>
            
            <!-- Canvas —Å–ª–µ–≤–∞, Explorer —Å–ø—Ä–∞–≤–∞ -->
            <div style="display: grid; grid-template-columns: auto 1fr; gap: 15px; height: calc(100vh - 280px);">
                <div class="panel" style="display: flex; flex-direction: column;">
                    <h3 style="margin-bottom: 15px;">Canvas (640x480)</h3>
                    <div class="canvas-container" style="flex: 0 0 auto;">
                        <canvas id="shaderCanvas" width="640" height="480"></canvas>
                    </div>
                </div>
                
                <div class="panel" style="display: flex; flex-direction: column; min-width: 400px;">
                    <h3 style="margin-bottom: 10px;">Shader Explorer</h3>
                    <div class="shader-list" id="shaderList" style="flex: 1; height: auto;">
                        <div style="color: #ccc; text-align: center;">–®–µ–π–¥–µ—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</div>
                    </div>
                </div>
            </div>
            
            <!-- –°–∫—Ä—ã—Ç—ã–π –ª–æ–≥ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ -->
            <div style="display: none;" id="shaderLogContent"></div>
        </div>
        
        <!-- HUD –†–µ–¥–∞–∫—Ç–æ—Ä -->
        <div id="hud-editor" class="tab-content">
            <div class="grid">
                <div class="panel">
                    <h3>HUD Canvas</h3>
                    <div class="canvas-container">
                        <canvas id="hudCanvas" width="640" height="480"></canvas>
                    </div>
                </div>
                
                <div class="panel">
                    <h3>–†–µ–¥–∞–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h3>
                    <div class="controls">
                        <button onclick="addHudElement('rect')">–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫</button>
                        <button onclick="addHudElement('pic')">–ö–∞—Ä—Ç–∏–Ω–∫–∞</button>
                        <button onclick="addHudElement('text')">–¢–µ–∫—Å—Ç</button>
                    </div>
                    
                    <div class="controls">
                        <button onclick="clearHud()">–û—á–∏—Å—Ç–∏—Ç—å HUD</button>
                        <button onclick="resetHud()">–°–±—Ä–æ—Å</button>
                        <button onclick="exportHud()">–≠–∫—Å–ø–æ—Ä—Ç HUD</button>
                        <button onclick="importHud()">–ò–º–ø–æ—Ä—Ç HUD</button>
                    </div>
                    
                    <div class="status" id="hudStatus">
                        HUD —Ä–µ–¥–∞–∫—Ç–æ—Ä –≥–æ—Ç–æ–≤
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- JSZip –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PK3 –∞—Ä—Ö–∏–≤–∞–º–∏ -->
    <script src="modules/jszip.min.js"></script>
    
    <!-- TGA loader –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ TGA —Ç–µ–∫—Å—Ç—É—Ä -->
    <script src="modules/tga-loader.js"></script>
    
    <!-- Q3VM WASM (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) - 33x –±—ã—Å—Ç—Ä–µ–µ! -->
    <script src="modules/q3vm-wasm.js?v=1.0.0"></script>
    <script src="modules/q3vm-wasm-wrapper.js?v=1.0.2"></script>
    
    <!-- Q3VM JS –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä (fallback) -->
    <script src="modules/q3vm-core.js?v=1.0.0"></script>
    
    <!-- Server Emulator (–í–ê–ñ–ù–û: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º!) -->
    <script src="modules/q3-server-emulator.js?v=0.005"></script>
    
    <!-- –û–±—â–∏–µ –º–æ–¥—É–ª–∏ -->
    <script src="modules/q3vm-loader.js?v=1.0.0"></script>
    <script src="modules/q3vm-syscalls.js?v=1.0.3"></script>
    <script src="modules/q3vm-client-integration-v2.js?v=0.06"></script>
    
    <!-- –°—Ç–∞—Ä—ã–µ –º–æ–¥—É–ª–∏ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏) -->
    <script src="modules/q3-2d-emulator.js?v=0.001"></script>
    
    <!-- –°–∏—Å—Ç–µ–º–∞ —à–µ–π–¥–µ—Ä–æ–≤ -->
    <script src="modules/superhud-tools.js?v=0.001"></script>
    
    <!-- UI –º–æ–¥—É–ª–∏ -->
    <script src="modules/app-init.js?v=0.001"></script>
    <script src="modules/pk3-analyzer.js?v=0.001"></script>
    <script src="modules/main-tester.js?v=0.001"></script>
    <script src="modules/server-emulator-ui.js?v=0.001"></script>
    <script src="modules/emulator-2d-ui.js?v=0.001"></script>
    <script src="modules/hud-editor-ui.js?v=0.001"></script>
    <script src="modules/q3vm-client-ui.js?v=1.0.2"></script>
</body>
</html>